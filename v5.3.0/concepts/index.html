
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="IoT Hub Portal for device management" name="description"/>
<link href="../dev-guide/conception/diagrams/" rel="prev"/>
<link href="../open-api/" rel="next"/>
<link href="../assets/images/favicon.svg" rel="icon"/>
<meta content="mkdocs-1.6.0, mkdocs-material-9.5.2" name="generator"/>
<title>Concepts - IoT Hub Portal</title>
<link href="../assets/stylesheets/main.50c56a3b.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#core-concepts">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="IoT Hub Portal" class="md-header__button md-logo" data-md-component="logo" href=".." title="IoT Hub Portal">
<img alt="logo" src="../assets/images/logo.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            IoT Hub Portal
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Concepts
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
<script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/CGI-FR/IoT-Hub-Portal" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    CGI-FR/IoT-Hub-Portal
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="..">
        
  
    
  
  IoT Hub Portal

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../azure/">
        
  
    
  
  Azure

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../aws/">
        
  
    
  
  AWS

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../dev-guide/">
          
  
    
  
  Dev Guide

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="./">
        
  
    
  
  Concepts

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../open-api/">
        
  
    
  
  Web API Reference

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../about/issues/">
          
  
    
  
  About

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="IoT Hub Portal" class="md-nav__button md-logo" data-md-component="logo" href=".." title="IoT Hub Portal">
<img alt="logo" src="../assets/images/logo.svg"/>
</a>
    IoT Hub Portal
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/CGI-FR/IoT-Hub-Portal" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    CGI-FR/IoT-Hub-Portal
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    IoT Hub Portal
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../azure/">
<span class="md-ellipsis">
    Azure
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../aws/">
<span class="md-ellipsis">
    AWS
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-ellipsis">
    Dev Guide
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Dev Guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../dev-guide/">
<span class="md-ellipsis">
    Developer Guide
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
<span class="md-ellipsis">
    Testing
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            Testing
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../dev-guide/testing/unit-tests-common-practices/">
<span class="md-ellipsis">
    Unit Tests Common Practices
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../dev-guide/testing/unit-tests-on-blazor-components/">
<span class="md-ellipsis">
    Unit Tests on Blazor components
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
<span class="md-ellipsis">
    Migrations
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
            Migrations
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../dev-guide/migrations/v3-to-v4/">
<span class="md-ellipsis">
    Migrate from v3 to v4
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../dev-guide/migrations/v4-to-v5/">
<span class="md-ellipsis">
    Migrate from v4 to v5
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
<span class="md-ellipsis">
    Project conception
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
            Project conception
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../dev-guide/conception/diagrams/">
<span class="md-ellipsis">
    Diagrams
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Concepts
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Concepts
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#device-models">
<span class="md-ellipsis">
      Device models
    </span>
</a>
<nav aria-label="Device models" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#parameters">
<span class="md-ellipsis">
      Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#built-in-models">
<span class="md-ellipsis">
      Built-in models
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#devices">
<span class="md-ellipsis">
      Devices
    </span>
</a>
<nav aria-label="Devices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#device-parameters">
<span class="md-ellipsis">
      Device Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#device-twin-tags">
<span class="md-ellipsis">
      Device Twin tags
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge">
<span class="md-ellipsis">
      IoT Edge
    </span>
</a>
<nav aria-label="IoT Edge" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge-parameters">
<span class="md-ellipsis">
      IoT Edge Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#last-deployment">
<span class="md-ellipsis">
      Last deployment
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge-module">
<span class="md-ellipsis">
      IoT Edge Module
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge-device-twin-tags">
<span class="md-ellipsis">
      IoT Edge Device Twin tags
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dps-enrollment-groups">
<span class="md-ellipsis">
      DPS Enrollment groups
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#device-configuration">
<span class="md-ellipsis">
      Device Configuration
    </span>
</a>
<nav aria-label="Device Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#device-configuration-template">
<span class="md-ellipsis">
      Device Configuration template
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge-configuration">
<span class="md-ellipsis">
      IoT Edge Configuration
    </span>
</a>
<nav aria-label="IoT Edge Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#target">
<span class="md-ellipsis">
      Target
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#enrollment-groups">
<span class="md-ellipsis">
      Enrollment groups
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lorawan">
<span class="md-ellipsis">
      LoRaWAN
    </span>
</a>
<nav aria-label="LoRaWAN" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#lorawan-device-models">
<span class="md-ellipsis">
      LoRaWAN Device Models
    </span>
</a>
<nav aria-label="LoRaWAN Device Models" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#lorawan-device-model-parameters">
<span class="md-ellipsis">
      LoRaWAN Device Model Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#commands">
<span class="md-ellipsis">
      Commands
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lorawan-devices">
<span class="md-ellipsis">
      LoRaWAN Devices
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#concentrators">
<span class="md-ellipsis">
      Concentrators
    </span>
</a>
<nav aria-label="Concentrators" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#concentrator-parameters">
<span class="md-ellipsis">
      Concentrator Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#concentrator-tags">
<span class="md-ellipsis">
      Concentrator Tags
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#command-execution">
<span class="md-ellipsis">
      Command Execution
    </span>
</a>
<nav aria-label="Command Execution" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#command-execution-flow">
<span class="md-ellipsis">
      Command execution flow
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#automatic-device-configuration-for-lora-wan">
<span class="md-ellipsis">
      Automatic device configuration for LoRa WAN
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../open-api/">
<span class="md-ellipsis">
    Web API Reference
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
<span class="md-ellipsis">
    About
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            About
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../about/issues/">
<span class="md-ellipsis">
    Known Issues
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../about/support/">
<span class="md-ellipsis">
    Support
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../about/credits/">
<span class="md-ellipsis">
    Credits
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../about/license/">
<span class="md-ellipsis">
    License
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#device-models">
<span class="md-ellipsis">
      Device models
    </span>
</a>
<nav aria-label="Device models" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#parameters">
<span class="md-ellipsis">
      Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#built-in-models">
<span class="md-ellipsis">
      Built-in models
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#devices">
<span class="md-ellipsis">
      Devices
    </span>
</a>
<nav aria-label="Devices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#device-parameters">
<span class="md-ellipsis">
      Device Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#device-twin-tags">
<span class="md-ellipsis">
      Device Twin tags
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge">
<span class="md-ellipsis">
      IoT Edge
    </span>
</a>
<nav aria-label="IoT Edge" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge-parameters">
<span class="md-ellipsis">
      IoT Edge Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#last-deployment">
<span class="md-ellipsis">
      Last deployment
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge-module">
<span class="md-ellipsis">
      IoT Edge Module
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge-device-twin-tags">
<span class="md-ellipsis">
      IoT Edge Device Twin tags
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dps-enrollment-groups">
<span class="md-ellipsis">
      DPS Enrollment groups
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#device-configuration">
<span class="md-ellipsis">
      Device Configuration
    </span>
</a>
<nav aria-label="Device Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#device-configuration-template">
<span class="md-ellipsis">
      Device Configuration template
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iot-edge-configuration">
<span class="md-ellipsis">
      IoT Edge Configuration
    </span>
</a>
<nav aria-label="IoT Edge Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#target">
<span class="md-ellipsis">
      Target
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#enrollment-groups">
<span class="md-ellipsis">
      Enrollment groups
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lorawan">
<span class="md-ellipsis">
      LoRaWAN
    </span>
</a>
<nav aria-label="LoRaWAN" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#lorawan-device-models">
<span class="md-ellipsis">
      LoRaWAN Device Models
    </span>
</a>
<nav aria-label="LoRaWAN Device Models" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#lorawan-device-model-parameters">
<span class="md-ellipsis">
      LoRaWAN Device Model Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#commands">
<span class="md-ellipsis">
      Commands
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lorawan-devices">
<span class="md-ellipsis">
      LoRaWAN Devices
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#concentrators">
<span class="md-ellipsis">
      Concentrators
    </span>
</a>
<nav aria-label="Concentrators" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#concentrator-parameters">
<span class="md-ellipsis">
      Concentrator Parameters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#concentrator-tags">
<span class="md-ellipsis">
      Concentrator Tags
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#command-execution">
<span class="md-ellipsis">
      Command Execution
    </span>
</a>
<nav aria-label="Command Execution" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#command-execution-flow">
<span class="md-ellipsis">
      Command execution flow
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#automatic-device-configuration-for-lora-wan">
<span class="md-ellipsis">
      Automatic device configuration for LoRa WAN
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="core-concepts">Core Concepts<a class="headerlink" href="#core-concepts" title="Permanent link">¶</a></h1>
<p>The Azure IoT Hub portal inherits from Azure IoT Hub concepts to manage IoT devices.</p>
<p>It relies on the following concepts:</p>
<ul>
<li>IoT Device Provisioning</li>
<li>IoT Hub Device Twin</li>
<li>IoT Hub Device Twin properties</li>
<li>IoT Hub Edge deployment manifest</li>
<li>Cloud To Device Message</li>
</ul>
<h2 id="device-models">Device models<a class="headerlink" href="#device-models" title="Permanent link">¶</a></h2>
<p>By using this capability, the application can create logical representations of IoT devices. This feature is designed to configure a set of sharable properties between devices.
When creating a device, the user is asked to specify the device model. The application will then apply the properties of the device model to the device.</p>
<p><img alt="images/device-model.png" src="../images/device-model.png"/></p>
<h3 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">¶</a></h3>
<ul>
<li><code>Device Model Id</code>: The ID of the device model.
    &gt; Note: Since the device model is shared among all the devices, theID should be unique. For convenience, the ID is generated by the application. By using the API, the ID is not required, but if provided, it will be used as the ID of the device model.</li>
<li><code>Name</code>: The name of the device model.</li>
<li><code>Description</code>: The description of the device model.</li>
</ul>
<h3 id="built-in-models">Built-in models<a class="headerlink" href="#built-in-models" title="Permanent link">¶</a></h3>
<p>Built-in models are predefined device models that can be used by the application.
This functionality is exactly the same as standard device models except that <strong>the properties are not editable and the device model is not removable</strong> via the Portal.</p>
<blockquote>
<p>Note: Creating and updating built-in models is not available in the portal. They can be managed using the Azure IoT Hub portal APIs.</p>
<p>See <a href="open-api">Device Model API reference</a> for more information.</p>
</blockquote>
<h2 id="devices">Devices<a class="headerlink" href="#devices" title="Permanent link">¶</a></h2>
<p>Devices are the physical IoT devices that are provisioned by the application. They are represented by an object that is stored in the Azure IoT Hub as the device twin.</p>
<p><img alt="images/device-twin.png" src="../images/device-twin.png"/></p>
<h3 id="device-parameters">Device Parameters<a class="headerlink" href="#device-parameters" title="Permanent link">¶</a></h3>
<ul>
<li><code>Device Id</code>: The ID of the device.
    &gt; Note: It is the device id stored in the Azure IoT Hub. It is asked to the user when creating a device and is not editable after the device is created.</li>
<li><code>Name</code>: The name of the device model.
    &gt; Note: The device name is the device friendly name. The name is editable after the device is created.</li>
<li><code>Device Model</code>: The device model that the device is based on.
    &gt; Note: The device model is asked to the user during the device creation and is not editable after the device is created.</li>
<li><code>Status</code>: The status of the device.
    &gt; Note: The status is related to the Device status in the Azure IoT Hub.</li>
<li><code>Tags</code>: The tags of the device.
    &gt; Note: The tags are related to the Device tags in the Azure IoT Hub. They could be defined at the portal level and set to the device for filtering and targeting for configuration.</li>
</ul>
<h3 id="device-twin-tags">Device Twin tags<a class="headerlink" href="#device-twin-tags" title="Permanent link">¶</a></h3>
<p>To store additional information about the device, the application uses device twin tags.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceName</td>
<td><code>tags.deviceName</code></td>
<td>Field that contains the device friendly name.<br/><em><strong>note</strong>: if not set, the portal will show the device id instead of the device name until it's configured.</em></td>
</tr>
<tr>
<td>modelId</td>
<td><code>tags.modelId</code></td>
<td>Field that contains the device model identifier that the device is related.<br/><em><strong>note</strong>: if not set, the device is not usable on the IoT hub portal.</em></td>
</tr>
<tr>
<td>supportLoRaFeatures</td>
<td><code>tags.supportLoRaFeatures</code></td>
<td>Field that specifies if the device must support LoRa features.<br/><em><strong>note</strong>: if not set, LoRa features will be available on the device.</em></td>
</tr>
</tbody>
</table>
<h2 id="iot-edge">IoT Edge<a class="headerlink" href="#iot-edge" title="Permanent link">¶</a></h2>
<p>IoT Edge is fully herited from Azure IoT Hub concepts. In the portal, the user can mangage the IoT Edge devices stored in Azure IoT Hub.
For more information about Azure IoT Edge, see <a href="https://docs.microsoft.com/en-us/azure/iot-edge/">Azure IoT Edge documentation</a>.</p>
<p><img alt="images/iot-edge.png" src="../images/iot-edge.png"/></p>
<h3 id="iot-edge-parameters">IoT Edge Parameters<a class="headerlink" href="#iot-edge-parameters" title="Permanent link">¶</a></h3>
<ul>
<li><code>Type</code>: The type of the IoT Edge device.
    &gt; Note: related to the IoT Edge purpose tag value that might be used to create deployment manifests.</li>
<li><code>Environment</code>: The IoT Edge device environment (Development, Production, QA).
    &gt; Note: this is an additional field that can be used to create deployment manifests.</li>
<li><code>Status</code>: The status of the device.
    &gt; Note: The status is related to the Device status in the Azure IoT Hub.</li>
<li><code>Nbr of connected devices</code>: The number of devices connected to the IoT Edge device.
    &gt; Note: The number of connected devices is related to the number of connections that are currently present in the edgeHub module. This might be different from the number of devices connected to the IoT Edge device if some modules are using edgeHub connections.</li>
<li><code>Nbr of desired modules</code>: The number of modules that are desired in the last deployment.</li>
</ul>
<h3 id="last-deployment">Last deployment<a class="headerlink" href="#last-deployment" title="Permanent link">¶</a></h3>
<p>The last deployment section shows information about the deployment manifest that is currently applied to the IoT Edge device.</p>
<h3 id="iot-edge-module">IoT Edge Module<a class="headerlink" href="#iot-edge-module" title="Permanent link">¶</a></h3>
<p>The IoT Edge module section represents the modules that are currently deployed on the IoT Edge device. It doesn't include the system modules of IoT Edge (edgeAgent and edgeHub).
With the portal, the user can interact with these modules and manage them (Get last module logs, restart module, etc.).</p>
<h3 id="iot-edge-device-twin-tags">IoT Edge Device Twin tags<a class="headerlink" href="#iot-edge-device-twin-tags" title="Permanent link">¶</a></h3>
<p>To store additional information about the device, the application uses device twin tags.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Environment</td>
<td><code>tags.env</code></td>
<td>Field that contains the Device Environment value.<br/><em><strong>note</strong>: this tag may be used to target deployment manifests for the IoT Edge</em></td>
</tr>
<tr>
<td>Type</td>
<td><code>tags.type</code></td>
<td>Field that contains The type of the IoT Edge device.<br/><em><strong>note</strong>: this tag may be used to target deployment manifests for the IoT Edge</em></td>
</tr>
</tbody>
</table>
<h3 id="dps-enrollment-groups">DPS Enrollment groups<a class="headerlink" href="#dps-enrollment-groups" title="Permanent link">¶</a></h3>
<p>The IoT Hub portal relies on Azure Device Provisioning Enrollement groups to manage IoT Edge device connection strings.
When clicking on "<strong>Connect</strong>" in the IoT Edge details page, the user can access the device unique credentials in the enrollment group.</p>
<blockquote>
<p>Note: see <a href="https://docs.microsoft.com/en-us/azure/iot-edge/how-to-provision-devices-at-scale-linux-symmetric?view=iotedge-2020-11&amp;tabs=individual-enrollment%2Cubuntu#provision-the-device-with-its-cloud-identity">Provision the device with its cloud identity
</a> to know how to configure the IoT Edge to use these credentials to connect to the platform.</p>
</blockquote>
<h2 id="device-configuration">Device Configuration<a class="headerlink" href="#device-configuration" title="Permanent link">¶</a></h2>
<p>By using the portal, users can manage the device configuration and deploy to devices that are targeted by the configuration.</p>
<p><img alt="images/device-configuration.png" src="../images/device-configuration.png"/></p>
<p>It relies on the Device Model to define the configuration parameters that can be deployed to the devices.</p>
<h3 id="device-configuration-template">Device Configuration template<a class="headerlink" href="#device-configuration-template" title="Permanent link">¶</a></h3>
<p>Under the cover, the configuration is stored in the Azure IoT Hub as the  twin configuration.</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">JSON</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="p">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;configuration-name&gt;-&lt;timestamp&gt;"</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="nt">"schemaVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">        </span><span class="nt">"created-by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Azure IoT hub Portal"</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">        </span><span class="nt">"configuration-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;configuration-name&gt;"</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">    </span><span class="nt">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">        </span><span class="nt">"deviceContent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">            </span><span class="nt">"properties.desired.**"</span><span class="p">:</span><span class="w"> </span><span class="err">**</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">    </span><span class="nt">"targetCondition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tags.modelId = '&lt;The model identifier&gt;' and tags.** = '**' AND ..."</span><span class="p">,</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="w">    </span><span class="nt">"createdTimeUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-06-13T07:32:19.7376998Z"</span><span class="p">,</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="w">    </span><span class="nt">"lastUpdatedTimeUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-06-13T07:32:19.7376998Z"</span><span class="p">,</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">    </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Please note that the <code>created-by</code> label is used to identify the configuration created by the IoT Hub portal.</p>
<h2 id="iot-edge-configuration">IoT Edge Configuration<a class="headerlink" href="#iot-edge-configuration" title="Permanent link">¶</a></h2>
<p>The IoT Edge configuration concerns the IoT Edge deployment manifests that are currently present in the IoT Hub.
The portal can be used to see the details of the configurations.</p>
<blockquote>
<p>Note: At this time the portal cannot be used to update the configurations.</p>
</blockquote>
<p><img alt="images/edge-configuration.png" src="../images/edge-configuration.png"/></p>
<h3 id="target">Target<a class="headerlink" href="#target" title="Permanent link">¶</a></h3>
<p>The parameters are related to the IoT Edge deployment manifest target condition field.
The IoT Hub portal will use the Target condition to extract this values from the deployment manifest.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Owner</td>
<td><code>tags.owner</code></td>
<td>Owner tag filter condition from the Deployment Manifest.</td>
</tr>
<tr>
<td>Environment</td>
<td><code>tags.env</code></td>
<td>Environment tag filter from the Deployment Manifest.</td>
</tr>
<tr>
<td>Type</td>
<td><code>tags.type</code></td>
<td>Device type tag filter from the Deployment Manifest. Expected value for IoT Edge LoRaWAN LNS is <code>LoRa Network Server</code>, otherwise the value must be <code>Other</code></td>
</tr>
</tbody>
</table>
<h2 id="enrollment-groups">Enrollment groups<a class="headerlink" href="#enrollment-groups" title="Permanent link">¶</a></h2>
<p>The IoT Hub portal relies on Azure Device Provisioning Enrollment groups to manage IoT device connection credentials.</p>
<p>For each device model, the portal will create a new enrollment group with symmetric key attestation. By clicking on "<em>Connect</em>" in the device details page, the portal will show unique credentials to the device for the corresponding enrollment group.</p>
<p>Furthermore, the enrollment group is configured to provide initial device twin state:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">JSON</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span>
<span class="normal"><a href="#__codelineno-1-7">7</a></span>
<span class="normal"><a href="#__codelineno-1-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">  </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="nt">"modelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"......"</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">    </span><span class="nt">"desired"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>For more information, see <a href="https://docs.microsoft.com/en-us/azure/iot-dps/concepts-symmetric-key-attestation?tabs=windows#group-enrollments">Azure Device Provisioning Enrollement groups</a>.</p>
<h2 id="lorawan">LoRaWAN<a class="headerlink" href="#lorawan" title="Permanent link">¶</a></h2>
<p>LoRaWAN features are activated by default, providing a way to configure IoT Devices that supports LoRaWAN connectivity in the Portal.
Internally, the LoRaWAN connectivity is expected to be provided by <a href="https://github.com/Azure/iotedge-lorawan-starterkit/">IoTEdge LoRaWAN StarterKit</a>. The IoT Hub portal will manage devices by modifying their twin properties to make them working with this solution.</p>
<blockquote>
<p>Note: to disable LoRa Features, change the value of <code>LoRaFeature__Enabled</code> to false in the Portal App Settings.</p>
</blockquote>
<h3 id="lorawan-device-models">LoRaWAN Device Models<a class="headerlink" href="#lorawan-device-models" title="Permanent link">¶</a></h3>
<p>For regular Device Models the IoT hub portal provides the possibility to manage LoRaWAN device models.
To activate the LoRaWAN features on the device model, the user have to enable the option in the <code>LoRa Device</code> section</p>
<p><img alt="images/lora-feature-device-model-toggle.png" src="../images/lora-feature-device-model-toggle.png"/></p>
<blockquote>
<p>Note: once activated, the device model detail adds a new tab called "LORAWAN" that adds new settings to the device model.</p>
</blockquote>
<p><img alt="images/lora-device-model.png" src="../images/lora-device-model.png"/></p>
<h4 id="lorawan-device-model-parameters">LoRaWAN Device Model Parameters<a class="headerlink" href="#lorawan-device-model-parameters" title="Permanent link">¶</a></h4>
<p>The parameters for the device models are parameters that are stored in the IoT Hub portal and retrieved for devices that inherits from this device model.</p>
<blockquote>
<p>Note: When changing the value of a parameter, the device will be updated with the new value.
In that case, user should then modify each device and re-save it to get the correct properties.</p>
</blockquote>
<ul>
<li><code>Support OTAA/ABP setting</code>: The device model supports OTAA/ABP connectivity.</li>
<li><code>Type</code>: The LoRaWAN device class type (A or C).</li>
<li><code>Message Deduplication</code>: Allows controlling the handling of duplicate messages received by multiple gateways.The default is Drop.</li>
<li><code>OTAA AppEUI</code>: The device model OTAA App EUI used for the device during the OTAA Join procedure.</li>
<li><code>Sensor Decoder URL</code>: The Sensor Decoder URL that the network server should use to decode frames comming from the devices that inherit from this model.</li>
<li><code>Device Connection Timeout</code>: Allows defining a sliding expiration to the connection between the leaf device and IoT/Edge Hub. The default is none, which causes the connection to not be dropped.</li>
<li><code>Support downstream messages</code>: Allows controlling the support of downstream messages. The default is false.</li>
<li><code>Preferred receive window</code>: Allows setting the device preferred receive window (RX1 or RX2). The default preferred receive window is 1</li>
<li><code>RX Delay</code>: Allows setting a custom wait time between receiving and transmission as specified in the specification.</li>
<li><code>RX1 Data offset</code>: Allows setting a custom data offset for the RX1 receive window. The default is 0.</li>
<li><code>RX2 Data rate</code>: Allows setting a custom data rate for the RX2 receive window. The default is 0.</li>
<li><code>32bit counter support</code>: Allow the usage of 32bit counters on your device.</li>
<li><code>Frame counter up start value</code>: Allows setting the frame counter start value for upstream messages. The default is 0.</li>
<li><code>Frame counter down start value</code>: Allows setting the frame counter start value for downstream messages. The default is 0.</li>
<li><code>Frame counter reset value</code>: Allows to reset the frame counters to the FCntUpStart/FCntDownStart values respectively.</li>
</ul>
<blockquote>
<p>Note: for more information about LoRaWAN properties, please refer to the <a href="https://azure.github.io/iotedge-lorawan-starterkit/dev/quickstart/#optional-device-properties">LoRaWAN StarterKit Documentation</a></p>
</blockquote>
<h4 id="commands">Commands<a class="headerlink" href="#commands" title="Permanent link">¶</a></h4>
<p>The devices commands are pre-stored frames that the user can add to the device model and then will be able to use on the device detail page to launch to the device.</p>
<ul>
<li><code>Name</code>: The command name. This name is only a friendly name that the user can set to understand what the command is supposed to do.</li>
<li><code>Frame</code>: The LoRaWAN frame (in hex) to be sent to the device.</li>
</ul>
<h3 id="lorawan-devices">LoRaWAN Devices<a class="headerlink" href="#lorawan-devices" title="Permanent link">¶</a></h3>
<p>LoRaWAN devices are accessible from the IoT Hub portal for devices that inherits from the LoRaWAN device model.
The LoRaWAN tab shows the device details.</p>
<p><img alt="images/lora-device-details.png" src="../images/lora-device-details.png"/></p>
<blockquote>
<p>Note: By selecting the correct device model on the first tab, the portal will automatically take LoRaWAN settings from the device model to apply on the device.</p>
</blockquote>
<h2 id="concentrators">Concentrators<a class="headerlink" href="#concentrators" title="Permanent link">¶</a></h2>
<p><img alt="images/lora-concentrator.png" src="../images/lora-concentrator.png"/></p>
<h3 id="concentrator-parameters">Concentrator Parameters<a class="headerlink" href="#concentrator-parameters" title="Permanent link">¶</a></h3>
<ul>
<li><code>Device ID</code>: The Station EUI for the LoRaWan Basic station.</li>
<li><code>Device Name</code>: The friendly name for the device.</li>
<li><code>Client Certificate Thumbprint</code>: The client certificate thumbprint used by the Basic Station to authenticate to the LoRaWAN Network Server.</li>
<li><code>Region</code>: The LoRaWAN region used by the Basic Station (EU868, US915, AS923 and CN470 supported).</li>
</ul>
<h3 id="concentrator-tags">Concentrator Tags<a class="headerlink" href="#concentrator-tags" title="Permanent link">¶</a></h3>
<p>To store additional information about the concentrator, the application will use the target device to extract values:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Device Name</td>
<td><code>tags.deviceName</code></td>
<td>Field that contains the Device name.</td>
</tr>
<tr>
<td>Region</td>
<td><code>tags.loraRegion</code></td>
<td>Field that contains the Device region.</td>
</tr>
<tr>
<td>deviceType</td>
<td><code>tags.deviceType</code></td>
<td>Field that contains The type of device. Expected value is <code>LoRa Concentrator</code></td>
</tr>
</tbody>
</table>
<h2 id="command-execution">Command Execution<a class="headerlink" href="#command-execution" title="Permanent link">¶</a></h2>
<p>To execute the command, the device should have joined the network. The message below explains that the device have to be connected to the network ant commands are disabled until the device is connected to the network.</p>
<p><img alt="images/lorawan-device-not-joined-message.png" src="../images/lorawan-device-not-joined-message.png"/></p>
<h3 id="command-execution-flow">Command execution flow<a class="headerlink" href="#command-execution-flow" title="Permanent link">¶</a></h3>
<p>The schema below explain how the command execution flow works.</p>
<div class="mermaid">
sequenceDiagram
    User-&gt;&gt;+IoT Hub Portal: Send Command (DeviceId, FrameId)
    IoT Hub Portal-&gt;&gt;+LoRa Key Management Facade: POST /api/cloudtodevicemessage
    LoRa Key Management Facade-&gt;&gt;+Azure IoT Hub: Invoke Device Method to Network Server
    Azure IoT Hub--&gt;&gt;-LoRa Key Management Facade: Cloud To Device Method Result
    LoRa Key Management Facade--&gt;&gt;-IoT Hub Portal: Send Cloud To Device Message Result
    IoT Hub Portal--&gt;&gt;-User: Command send result
</div>
<blockquote>
<p>See <a href="https://azure.github.io/iotedge-lorawan-starterkit/2.0.0/quickstart/#cloud-to-device-message">https://azure.github.io/iotedge-lorawan-starterkit/2.0.0/quickstart/#cloud-to-device-message</a> for more information about the Cloud To Device Message involed  in the LoRa WAN device commands execution flow.</p>
</blockquote>
<h2 id="automatic-device-configuration-for-lora-wan">Automatic device configuration for LoRa WAN<a class="headerlink" href="#automatic-device-configuration-for-lora-wan" title="Permanent link">¶</a></h2>
<p>When modifying the device model, the IoT Hub portal will automatically create a new Device Configuration that will target the IoT devices that have the corresponding <code>modelId</code> tag.</p>
<p>The IoT Hub portal will create a new Rollout deployment that will remove older configuration and add the new configuration.</p>
<p>This process ensure that the devices twin will be updated at scale by the IoT hub and each devices that inherit for the model will be updated according the model configuration.</p>
<p>The configuration will be created with the following schema:</p>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">JSON</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span>
<span class="normal"><a href="#__codelineno-2-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;model-name&gt;-&lt;timestamp&gt;"</span><span class="p">,</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="nt">"schemaVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">        </span><span class="nt">"created-by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Azure IoT hub Portal"</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">    </span><span class="nt">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">        </span><span class="nt">"deviceContent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">            </span><span class="nt">"properties.desired.AppEUI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;The Device Model OTAA AppEUI&gt;"</span><span class="p">,</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">            </span><span class="nt">"properties.desired.SensorDecoder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;The Device Model Sensor Decoder&gt;"</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="w">    </span><span class="nt">"targetCondition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tags.modelId = '&lt;The model identifier&gt;'"</span><span class="p">,</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="w">    </span><span class="nt">"createdTimeUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-28T20:29:39.128Z"</span><span class="p">,</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="w">    </span><span class="nt">"lastUpdatedTimeUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-28T20:29:39.128Z"</span><span class="p">,</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="w">    </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Please note that the <code>created-by</code> label is used to identify the configuration created by the IoT Hub portal.</p>
<blockquote>
<p>For more information see <a href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-automatic-device-management">Automatic IoT device and module management</a>.</p>
</blockquote>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2022 CGI France
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.tooltips", "navigation.expand", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
<script src="../assets/javascripts/bundle.d7c377c4.min.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>