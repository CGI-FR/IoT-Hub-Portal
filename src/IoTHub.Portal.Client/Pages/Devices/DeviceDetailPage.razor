@page "/devices/{DeviceID}"
@using IoTHub.Portal.Client.Pages.Devices
@using IoTHub.Portal.Client.Validators
@using IoTHub.Portal.Models
@using IoTHub.Portal.Models.v10
@using IoTHub.Portal.Models.v10.LoRaWAN
@using IoTHub.Portal.Shared.Constants;
@using IoTHub.Portal.Shared.Models

@inject NavigationManager NavManager
@inject ISnackbar Snackbar
@inject PortalSettingsDto Portal
@inject IDialogService DialogService
@inject IDeviceModelsClientService DeviceModelsClientService
@inject ILoRaWanDeviceModelsClientService LoRaWanDeviceModelsClientService
@inject IDeviceTagSettingsClientService DeviceTagSettingsClientService
@inject IDeviceClientService DeviceClientService
@inject ILoRaWanDeviceClientService LoRaWanDeviceClientService
@inject IDeviceLayoutService DeviceLayoutService

<MudTooltip Text="Return" Placement="Placement.Left">
    <MudFab StartIcon="@Icons.Material.Outlined.ArrowBack" Color="Color.Secondary" Size="Size.Small" OnClick="Return" id="returnButton" />
</MudTooltip>
<MudTooltip Placement="Placement.Top">
    <MudText Typo="Typo.h5" Color="Color.Primary" Class="mb-4">  Device Details</MudText>
</MudTooltip>
<EditDevice context="CreateEditMode.Edit" IsLoRa="@IsLoRa" DeviceID="@DeviceID" />

@code {
    [Parameter]
    [SupplyParameterFromQuery]
    public bool IsLoRa
    {
        get;
        set;
    }

    [Parameter]
    public string DeviceID { get; set; } = default!;

    private void Return() => NavManager.NavigateTo("devices");
}
